!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("hammerjs"),require("gsap")):"function"==typeof define&&define.amd?define(["hammerjs","gsap"],e):"object"==typeof exports?exports.Fullpage=e(require("hammerjs"),require("gsap")):t.Fullpage=e(t.Hammer,t.gsap)}(this,function(t,e){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=s(n(1)),o=s(n(2));function s(t){return t&&t.__esModule?t:{default:t}}var a=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.containerRef=document.querySelector(e),this.containerType=this.containerRef.getAttribute("data-stack-type"),this.containerRef&&this.containerType?(this.containerAxis="top"===this.containerType||"y"===this.containerType?"vertical":"horizontal",this.options=Object.assign({debug:!1},n),this.parents=[],this.stacks=[],this.hammers=[],this.currentIdx=0,this.eventType={axis:"",direction:""},this.dragging=!1,this.draggingRef=null,this.viewport=t.getViewport(),this.setStacks(),this.setCommonLayout(),this.setLayout(),this._addEvents(),this.options.debug&&this.debug()):console.error("Fullpage initialization error")}return i(t,null,[{key:"getViewport",value:function(){return{clientWidth:document.documentElement.clientWidth,clientHeight:document.documentElement.clientHeight}}},{key:"getRandomColor",value:function(){for(var t="#",e=0;e<6;e++)t+="0123456789ABCDEF"[Math.floor(16*Math.random())];return t}}]),i(t,[{key:"removeListeners",value:function(){}},{key:"getDragTarget",value:function(t){var e=this.draggingRef;return e||(e=this.stacks.find(function(e){return e.node===t})),e}},{key:"_blockEvent",value:function(t){return""===this.eventType.axis?(this._updateEventType(t),!1):!this.isDragging||this.eventType.axis!==t.axis||void this._updateEventType(t)}},{key:"_updateEventType",value:function(t){this.eventType.axis=t.axis,this.eventType.direction=t.direction}},{key:"_resetDrag",value:function(){this.dragging=!1,this.eventType={target:null,axis:"",direction:""},this.draggingRef=null}},{key:"_panstart",value:function(t){this.isDragging=!0;var e=this.stacks.find(function(e){return e.node===t.target});e?this.options.dragStart(this,e):this.isDragging=!1}},{key:"_panleft",value:function(t){var e={axis:"horizontal",direction:"left"};if(!this._blockEvent(e)){if(!this.draggingRef){var n=this._getTargetInfo(t.target);n&&(this.draggingRef=n.nextStackView[e.direction],this.eventType.target=n)}this.draggingRef?this._dragging(this.draggingRef,t):this._resetDrag()}}},{key:"_panright",value:function(t){var e={axis:"horizontal",direction:"right"};if(!this._blockEvent(e)){if(!this.draggingRef){var n=this._getTargetInfo(t.target);n&&(this.draggingRef=n.nextStackView[e.direction],this.eventType.target=n)}this.draggingRef?this._dragging(this.draggingRef,t):this._resetDrag()}}},{key:"_pandown",value:function(t){var e={axis:"vertical",direction:"down"};if(!this._blockEvent(e)){if(!this.draggingRef){var n=this._getTargetInfo(t.target);n&&(this.draggingRef=n.nextStackView[e.direction],this.eventType.target=n)}this.draggingRef?this._dragging(this.draggingRef,t):this._resetDrag()}}},{key:"_panup",value:function(t){var e={axis:"vertical",direction:"up"};if(!this._blockEvent(e)){if(!this.draggingRef){var n=this._getTargetInfo(t.target);n&&(this.draggingRef=n.nextStackView[e.direction],this.eventType.target=n)}this.draggingRef?this._dragging(this.draggingRef,t):this._resetDrag()}}},{key:"_endCallback",value:function(){var t=this.stackMoveFromTo,e=t.toParent,n=t.to;e&&n&&(e.lastSeenIndex=n),this.options.dragEnd(this),this._resetDrag()}},{key:"_panend",value:function(){var t=this;if(this.draggingRef){var e=this.draggingRef,n=this.eventType,i=e.type,r=n.direction,s=this.viewport,a=s.clientHeight,d=s.clientWidth,l=o.default.timeline();if("top"===i&&("up"===r&&l.to(e.node,{top:-a}).add(function(){e.positions.top=-a,t._endCallback()}),"down"===r&&l.to(e.node,{top:0}).add(function(){e.positions.top=0,t._endCallback()})),"left"===i&&("left"===this.eventType.direction&&l.to(e.node,{left:-d}).add(function(){e.positions.left=-d,t._endCallback()}),"right"===this.eventType.direction&&l.to(e.node,{left:0}).add(function(){e.positions.left=0,t._endCallback()})),"y"===i){var f=e.positions.y;if("up"===r){var u=f-a,h=-a*(e.children.length-1);u<h&&(u=h),l.to(e.node,{y:u}).add(function(){e.positions.y=u,t._endCallback()})}if("down"===r){var c=f+a;c>=0&&(c=0),l.to(e.node,{y:c}).add(function(){e.positions.y=c,t._endCallback()})}}if("x"===i){var p=e.positions.x;if("left"===r){var g=p-d,y=-d*(e.children.length-1);g<y&&(g=y),l.to(e.node,{x:g}).add(function(){e.positions.x=g,t._endCallback()})}if("right"===r){var v=p+d;v>=0&&(v=0),l.to(e.node,{x:v}).add(function(){e.positions.x=v,t._endCallback()})}}}else this._resetDrag()}},{key:"_dragging",value:function(t,e){var n=t.type,i=this.viewport,r=i.clientHeight,s=i.clientWidth;this.snapshotPositions={top:0,left:0,x:0,y:0};var a=this.snapshotPositions,d=void 0,l=void 0;if("y"===n){if((d=e.deltaY+t.positions.y)>=0){t.positions.y=0,t.node.style.transform="translate3d(0px, 0px, 0px)";var f=this.stacks.find(function(t){return t.node===e.target});return void(this.draggingRef=f[this.eventType.direction])}var u=-r*(t.children.length-1);if(d<=u){t.positions.y=u,t.node.style.transform="translate3d(0px, "+u+"px, 0px)";var h=this.stacks.find(function(t){return t.node===e.target});return void(this.draggingRef=h[this.eventType.direction])}a.y=d,o.default.set(t.node,{y:d})}if("x"===n){if((l=e.deltaX+t.positions.x)>=0){t.positions.x=0,t.node.style.transform="translate3d(0px, 0px, 0px)";var c=this.stacks.find(function(t){return t.node===e.target});return void(this.draggingRef=c[this.eventType.direction])}var p=-s*(t.children.length-1);if(l<=p){t.positions.x=p,t.node.style.transform="translate3d("+p+"px, 0px, 0px)";var g=this.stacks.find(function(t){return t.node===e.target});return void(this.draggingRef=g[this.eventType.direction])}a.x=l,o.default.set(t.node,{x:l})}if("top"===n){if((d=e.deltaY+t.positions.top)>=0){t.positions.top=0,t.node.style.top="0px";var y=this.stacks.find(function(t){return t.node===e.target});return void(this.draggingRef=y[this.eventType.direction])}if(d<=-r){t.positions.top=-r,t.node.style.top=-r+"px";var v=this.stacks.find(function(t){return t.node===e.target});return void(this.draggingRef=v[this.eventType.direction])}a.top=d,o.default.set(t.node,{top:d})}if("left"===n){if((l=t.positions.left+e.deltaX)>=0){t.positions.left=0,t.node.style.left="0px";var x=this.stacks.find(function(t){return t.node===e.target});return void(this.draggingRef=x[this.eventType.direction])}if(l<=-r){t.positions.left=-s,t.node.style.left=-s+"px";var k=this.stacks.find(function(t){return t.node===e.target});return void(this.draggingRef=k[this.eventType.direction])}a.left=l,o.default.set(t.node,{left:l})}this.stackMoveFromTo=this._getStackMoveFromTo(),this.options.dragMove(this)}},{key:"_getStackMoveFromTo",value:function(){var t=this.eventType.direction,e=this.eventType.axis,n=this.eventType.target,i=n.stackIndex,r=n.isFirstNode,o=n.isLastNode,s={direction:t,type:this.draggingRef.type,from:null,to:null,toParent:null},a=this.parents.findIndex(function(t){return t.node===n.innerParent.node}),d=this.parents[a],l="vertical"===d.axis&&"up"===t||"horizontal"===d.axis&&"left"===t,f="vertical"===d.axis&&"down"===t||"horizontal"===d.axis&&"right"===t,u=e===this.containerAxis;if(d.axis!==e&&u){if(s.from=i,"up"===t||"left"===t){var h=this.parents[a+1];h&&(h.lastSeenIndex?(s.to=h.lastSeenIndex,s.toParent=h):(s.to=d.children[d.children.length-1].stackIndex+1,s.toParent=h))}if("down"===t||"right"===t){var c=this.parents[a-1];c&&(c.lastSeenIndex?(s.to=c.lastSeenIndex,s.toParent=c):(s.to=d.children[0].stackIndex-1,s.toParent=c))}}if(l)if(s.from=i,o){if(u){var p=this.parents[a+1];p&&(p.lastSeenIndex?(s.to=p.lastSeenIndex,s.toParent=p):(s.to=i+1,s.toParent=p))}}else s.to=i+1,s.toParent=d;if(f)if(s.from=i,r){if(u){var g=this.parents[a-1];g&&(g.lastSeenIndex?(s.to=g.lastSeenIndex,s.toParent=g):(s.to=i-1,s.toParent=g))}}else s.to=i-1,s.toParent=d;return s}},{key:"_getTargetInfo",value:function(t){return this.stacks.find(function(e){return e.node===t})}},{key:"_addEvents",value:function(){var t=new r.default(this.containerRef);this.hammers.push(t),t.add(new r.default.Pan({direction:r.default.DIRECTION_ALL,threshold:this.options.threshold})),t.on("panstart",this._panstart.bind(this)),t.on("panend",this._panend.bind(this)),t.on("panleft",this._panleft.bind(this)),t.on("panright",this._panright.bind(this)),t.on("pandown",this._pandown.bind(this)),t.on("panup",this._panup.bind(this))}},{key:"setCommonLayout",value:function(){document.body.style.overflow="hidden",document.body.style.height="100%",document.body.style.width="100%",document.documentElement.style.overflow="hidden",document.documentElement.style.height="100%",document.documentElement.style.width="100%"}},{key:"setLayout",value:function(){var e=this;this.viewport=t.getViewport(),this.parents.forEach(function(t){switch(t.type){case"x":return void e._layoutX(t);case"y":return void e._layoutY(t);case"top":case"left":return void e._layoutFixed(t)}})}},{key:"_layoutX",value:function(t){var e=this.viewport,n=e.clientHeight,i=e.clientWidth,r=t.node,o=t.children;r.x=r.y=0,r.style.display="flex",r.style.overflow="hidden",r.style.position="relative",r.style.width=i*o.length+"px",r.style.transform="translate3d(0px, 0px, 0px)",o.forEach(function(t){var e=t.node;e.style.width=i+"px",e.style.height=n+"px"})}},{key:"_layoutY",value:function(t){var e=this.viewport.clientHeight,n=t.node,i=t.children;n.x=n.y=0,n.style.overflow="hidden",n.style.position="relative",n.style.height=e*i.length+"px",n.style.transform="translate3d(0px, 0px, 0px)",i.forEach(function(t){t.node.style.height=e+"px"})}},{key:"_layoutFixed",value:function(t){var e=this.viewport,n=e.clientHeight,i=e.clientWidth,r=t.node,o=t.children;r.style.overflow="hidden",r.style.position="relative",r.style.height=n+"px",r.style.width=i+"px",o.forEach(function(t,e,n){var i=t.node;i.style.position="absolute",i.style.top=0,i.style.left=0,i.style.height="100%",i.style.width="100%",i.style.zIndex=10*(n.length-e)})}},{key:"setStacks",value:function(){var t=this,e=document.createTreeWalker(this.containerRef,NodeFilter.SHOW_ELEMENT,function(t){return t&&"string"==typeof t.getAttribute("data-stack")?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP},!1);this.parents=Array.from(document.querySelectorAll("[data-stack-type]")).map(function(e){var n=e.getAttribute("data-stack-type");return{type:n,axis:"top"===n||"y"===n?"vertical":"horizontal",node:e,children:Array.from(e.children).filter(function(t){return"string"==typeof t.getAttribute("data-stack")}),outerParent:e===t.containerRef?null:e.parentNode,positions:{x:0,y:0,top:0,left:0}}});for(var n=e.firstChild(),i=function(){var i=n.parentNode,r=i.getAttribute("data-stack-type"),o="top"===r||"y"===r?"vertical":"horizontal",s=t.parents.find(function(t){return t.node===i});s.isRoot=s.node===t.containerRef;var a=s.children.findIndex(function(t){return t===n}),d={type:r,axis:o,node:n,siblingIndex:a,innerParent:s,isRootLevel:null===s.outerParent,children:s.children,isFirstNode:null===n.previousElementSibling,isLastNode:null===n.nextElementSibling,positions:{x:0,y:0,top:0,left:0}};s.children[a]=d;var l=e.firstChild();if(l)n=l;else{var f=e.nextSibling();n=f||(e.parentNode()?e.nextSibling():null)}t.stacks.push(d)};null!==n;)i();this.stacks=this.stacks.filter(function(t,e,n){var i=n.findIndex(function(e){var n=e.innerParent.outerParent;if(n)return n===t.node});return!(i>=0)||(n[i].innerParent.outerParent=t,!1)}).map(function(e,n,i){return e.stackIndex=n,e.nextStackView=t._setPrevNextTarget(e,i),e})}},{key:"_setPrevNextTarget",value:function(t){var e=t.stackIndex,n=t.siblingIndex,i=t.type,r=t.axis,o=t.isRootLevel,s=t.isFirstNode,a=t.isLastNode,d=t.innerParent,l=t.children,f={up:!1,down:!1,left:!1,right:!1};if(t.results={up:null,down:null,left:null,right:null},o)"y"===i&&(a||(f.up=d),s||(f.down=d)),"x"===i&&(a||(f.left=d),s||(f.right=d)),"top"===i&&(a||(f.up=l[n]),s||(f.down=l[n-1])),"left"===i&&(a||(f.left=l[n]),s||(f.right=l[n-1]));else{var u=d.outerParent;"vertical"===r&&(u.isLastNode||("left"===u.type&&(f.left=u.children[u.siblingIndex]),"x"===u.type&&(f.left=u.innerParent)),u.isFirstNode||("left"===u.type&&(f.right=u.children[u.siblingIndex-1]),"x"===u.type&&(f.right=u.innerParent))),"y"===i&&(a?u.isLastNode||("top"===u.type&&(f.up=u.children[u.siblingIndex]),"y"===u.type&&(f.up=u.innerParent)):(f.up=d,t.results.up={type:i,from:e,to:e+1}),s?u.isFirstNode||("top"===u.type&&(f.down=u.children[u.siblingIndex-1]),"y"===u.type&&(f.down=u.innerParent)):(f.down=d,t.results.down={type:i,from:e,to:e-1})),"top"===i&&(a?u.isLastNode||("top"===u.type&&(f.up=u.children[u.siblingIndex]),"y"===u.type&&(f.up=u.innerParent)):(f.up=l[n],t.results.up={type:i,from:e,to:e+1}),s?u.isFirstNode||("top"===u.type&&(f.down=u.children[u.siblingIndex-1]),"y"===u.type&&(f.down=u.innerParent)):(f.down=l[n-1],t.results.down={type:i,from:e,to:e-1})),"horizontal"===r&&("top"===u.type&&(u.isLastNode||(f.up=u.children[u.siblingIndex]),u.isFirstNode||(f.down=u.children[u.siblingIndex-1])),"y"===u.type&&(f.up=u.innerParent,f.down=u.innerParent)),"x"===i&&(a?u.isLastNode||("left"===u.type&&(f.left=u.children[u.siblingIndex]),"x"===u.type&&(f.left=u.innerParent)):(f.left=d,t.results.left={type:i,from:e,to:e+1}),s?u.isFirstNode||("left"===u.type&&(f.right=u.children[u.siblingIndex-1]),"x"===u.type&&(f.right=u.innerParent)):(f.right=d,t.results.right={type:i,from:e,to:e-1})),"left"===i&&(a?u.isLastNode||("left"===u.type&&(f.left=u.children[u.siblingIndex]),"x"===u.type&&(f.left=u.innerParent)):(f.left=l[n],t.results.left={type:i,from:e,to:e+1}),s?u.isFirstNode||("left"===u.type&&(f.right=u.children[u.siblingIndex-1]),"x"===u.type&&(f.right=u.innerParent)):(f.right=l[n-1],t.results.right={type:i,from:e,to:e-1}))}return f}},{key:"debug",value:function(){this.stacks.forEach(function(e){var n=t.getRandomColor();e.node.style.backgroundColor=n}),console.log("STACK_PARENTS: ",this.parents),console.log("STACK_VIEW: ",this.stacks),window.fps=this}}]),t}();e.default=a,t.exports=e.default},function(e,n){e.exports=t},function(t,n){t.exports=e}])});